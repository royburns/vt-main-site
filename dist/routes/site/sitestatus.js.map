{"version":3,"sources":["../../../routes/site/sitestatus.js"],"names":["express","require","router","Router","http","post","req","res","next","httpReq","temp","sites","body","options","host","port","path","headers","method","Promise","resolve","reject","replace","request","resp","on","chunk","console","log","push","JSON","parse","end","then","send","module","exports"],"mappings":"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","file":"sitestatus.js","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nlet http = require('http')\r\n\r\n/* GET users listing. */\r\nrouter.post('/', function (req, res, next) {\r\n    let httpReq\r\n    let temp = []\r\n    let sites = req.body.sites\r\n    let options = {\r\n        host: '',\r\n        port: 8080,\r\n        path: '/api/baseStation15/stationInfo',\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\r\n        },\r\n        method: 'GET',\r\n    };\r\n    new Promise(function (resolve, reject) {\r\n        options.host = sites[0].replace('http://', '');\r\n        httpReq = http.request(options, resp => {\r\n            resp.on('data', function (chunk) {\r\n                console.log('BODY: ' + chunk);\r\n                temp.push(JSON.parse(chunk));\r\n                resolve();\r\n            });\r\n        })\r\n        httpReq.end();\r\n        // errorEvent(options_1.host, httpReq,res)\r\n    })\r\n        .then(function () {\r\n            return new Promise(function (resolve, reject) {\r\n                options.host = sites[1].replace('http://', '');\r\n                httpReq = http.request(options, resp => {\r\n                    resp.on('data', function (chunk) {\r\n                        console.log('BODY: ' + chunk);\r\n                        temp.push(JSON.parse(chunk));\r\n                        resolve();\r\n                    });\r\n\r\n                })\r\n                httpReq.end();\r\n                // errorEvent(options_2.host, httpReq, res)\r\n            })\r\n        })\r\n        .then(function () {\r\n            return new Promise(function (resolve, reject) {\r\n                options.host = sites[2].replace('http://', '');\r\n                httpReq = http.request(options, resp => {\r\n                    resp.on('data', function (chunk) {\r\n                        console.log('BODY: ' + chunk);\r\n                        temp.push(JSON.parse(chunk));\r\n                        resolve();\r\n                    });\r\n                })\r\n                httpReq.end();\r\n                // errorEvent(options_3.host, httpReq, res)\r\n            })\r\n        })\r\n        .then(function () {\r\n            return new Promise(function (resolve, reject) {\r\n                options.host = sites[3].replace('http://', '');\r\n                httpReq = http.request(options, resp => {\r\n                    resp.on('data', function (chunk) {\r\n                        console.log('BODY: ' + chunk);\r\n                        temp.push(JSON.parse(chunk));\r\n                        resolve();\r\n                    });\r\n\r\n                })\r\n                httpReq.end();\r\n                // errorEvent(options_4.host, httpReq, res)\r\n            })\r\n        })\r\n        .then(function () {\r\n            options.host = sites[0].replace('http://', '');\r\n            httpReq = http.request(options, resp => {\r\n                resp.on('data', function (chunk) {\r\n                    console.log('BODY: ' + chunk);\r\n                    temp.push(JSON.parse(chunk));\r\n                    res.send(temp);\r\n                });\r\n                // errorEvent(resp)\r\n            })\r\n            httpReq.end();\r\n            // errorEvent(options_5.host, httpReq, res)\r\n        })\r\n});\r\n\r\nmodule.exports = router;\r\n"]}